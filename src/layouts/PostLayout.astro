---
import type { Post } from '../types';
import BaseLayout from './BaseLayout.astro';

interface Props {
  post: Post;
  section: string;
}

const { post, section } = Astro.props as Props;
---

<BaseLayout>
  <header>
    <p class="eyebrow">{section}</p>
    <h1>{post.title}</h1>
    {post.excerpt && <p>{post.excerpt}</p>}

    {
      post.featuredImage && (
        <img
          src={post.featuredImage.url}
          alt={post.featuredImage.alternativeText ?? post.title}
        />
      )
    }
  </header>

  <section class="prose">
    <Fragment set:html={post.content} />
  </section>

  {
    post.tags && post.tags.length > 0 && (
      <nav aria-label="Post tags">
        <ul>
          {post.tags.map((tag) => (
            <li>
              <a href={`/tags/${tag.slug}`}>{tag.name}</a>
            </li>
          ))}
        </ul>
      </nav>
    )
  }
</BaseLayout>
